# 정적 팩토리 메서드의 기본 개념과 장단점

대다수 개발자는 **public 생성자**를 이용해 인스턴스를 만든다. 이는 객체를 생성하는 가장 기본적이고 직관적인 방법이다. 하지만 클래스는 생성자와 별도로 **정적 팩토리 메서드**를 제공할 수 있다. 정적 팩토리 메서드는 클래스 인스턴스를 반환하는 단순한 정적 메서드를 의미한다. 이 TIL에선 정적 팩토리 메서드의 기본 개념과 장단점에 대해 다룬다.

## 정적 팩토리 메서드란?

**정적 팩토리 메서드**는 클래스 인스턴스를 생성하여 반환하는 `public static` 메서드이다. 일반적인 생성자(`new` 키워드 사용)처럼 객체를 만들지만, 훨씬 **유연하고 강력한 장점**들을 제공한다. 클래스는 **생성자 대신** 또는 **생성자와 함께** 정적 팩토리 메서드를 제공할 수 있다.

주로 `from()`, `of()`, `getInstance()`, `create()`, `valueOf()`와 같이 의미 있는 이름을 가진다.

**간단한 예시:**

```java
class Product {
    private String name;
    private double price;

    // private 생성자: 외부에서 Product 객체를 'new'로 직접 만들지 못하게 막는다.
    private Product(String name, double price) {
        this.name = name;
        this.price = price;
    }

    // 정적 팩토리 메서드 1: 이름과 가격으로 제품 생성
    public static Product createProduct(String name, double price) {
        return new Product(name, price);
    }

    // 정적 팩토리 메서드 2: 특정 카테고리의 기본 제품 생성 (예시)
    public static Product createDefaultBook() {
        return new Product("기본 도서", 15000.0);
    }

    public String getName() { return name; }
    public double getPrice() { return price; }

    @Override
    public String toString() {
        return "Product{name='" + name + "', price=" + price + '}';
    }
}

public class Main {
    public static void main(String[] args) {
        Product book1 = Product.createProduct("Java 프로그래밍", 35000.0);
        Product defaultBook = Product.createDefaultBook();

        System.out.println(book1);
        System.out.println(defaultBook);
    }
}
```

## 정적 팩토리 메서드의 장점

정적 팩토리 메서드는 단순한 public 생성자 보다 유리한 이유들을 제공한다.

### 1. 의미 있는 이름을 가질 수 있다.
생성자는 클래스와 같은 이름을 가져야 한다. 따라서 여러 생성자가 있을 경우 매개변수만으로 생성자를 구분해야 하는데 이는 클라이언트에게 **객체 생성의 의도나 맥락**을 모호하게 만들 수 있다.

하지만 정적 팩토리 메서드는 `createProduct()`, `createDefaultBook()`, `fromId()`처럼 **메서드 이름 자체로 객체 생성의 목적과 조건을 명확히 표현**할 수 있다. 이는 **코드의 가독성**을 크게 높여 개발자가 직관적으로 객체의 용도를 파악하고, 불필요한 실수를 줄이는 데 도움을 준다. 또한, 동일한 매개변수 타입을 가진 여러 생성자가 필요한 경우에도 이름을 통해 **명확하게 구분**할 수 있다는 장점이 있다.

### 2. 호출될 때마다 새로운 객체를 만들 필요가 없다.
`public` 생성자는 호출될 때마다 무조건 새로운 인스턴스를 생성한다. 이는 같은 상태의 객체가 필요하거나 객체 생성이 비싼 작업일 경우 비효율적일 수 있다.

하지만 정적 팩토리 메서드는 호출될 때마다 새로운 객체를 만들 필요가 없다. 이미 생성된 객체를 캐싱하여 재활용 하거나, 특정 조건에 따라 동일한 인스턴스를 반환할 수 있다. 이에 따라 정적 팩토리 메서드는 객체 생성의 비용을 줄이고 자원 사용을 효율적으로 관리할 수 있는 강력한 메커니즘을 제공한다.




