# 빌더 패턴

정적 팩터리와 생성자는 선택 매개변수가 많을 때 대응하기 어렵다는 특징이 있다. 이러한 경우 점층적 생성자 패턴, 자바빈즈 패턴, 빌더 패턴등을 고려할 수 있다. 이 세가지 객체 생성 방식은 각각의 장단점들이 있지만 현대 소프트웨어 개발에서 가장 선호되는 방식은 빌더 패턴이다. 빌더 패턴의 기본 개념과 실제 프로젝트에서의 활용 예시를 알아보자.

## 빌더 패턴이란?

빌더 패턴이란 빌더라는 중간 개입 객체를 이용하여 복잡한 객체 생성 방식을 유연하고 가독성 있게 처리하는 디자인 패턴이다. 

예시를 보며 이해해보자.

```JAVA
public class Coffee {
    // 필수 매개변수
    private String type; // 커피 종류 (예: Americano, Latte)
    private String size; // 사이즈 (예: Tall, Grande, Venti)

    // 선택적 매개변수 (기본값 설정 가능)
    private boolean hasWhipCream; // 휘핑크림 추가 여부
    private String syrup;         // 시럽 종류 (예: Vanilla, Caramel)

    // 모든 매개변수를 받는 생성자
    public Coffee(String type, String size, boolean hasWhipCream, String syrup) {
        this.type = type;
        this.size = size;
        this.hasWhipCream = hasWhipCream;
        this.syrup = syrup;
    }

    // --- Getter 메서드 (생략) ---
    public String getType() { return type; }
    public String getSize() { return size; }
    public boolean hasWhipCream() { return hasWhipCream; }
    public String getSyrup() { return syrup; }

    @Override
    public String toString() {
        return "Coffee{" +
               "type='" + type + '\'' +
               ", size='" + size + '\'' +
               ", hasWhipCream=" + hasWhipCream +
               ", syrup='" + syrup + '\'' +
               '}';
    }
}
```
`Coffee`라는 클래스가 있다. 커피의 `타입`과 `사이즈`는 필수 사항이지만 `휘핑크림 추가 여부`나 `시럽의 종류`는 선택 사항이라고 가정한다. 

```JAVA
public class CoffeeOrder {
    public static void main(String[] args) {
        // 1. 일반적인 아메리카노 주문 (휘핑크림X, 시럽X)
        // 선택적 매개변수를 기본값(false, null)으로 채워줘야 함
        Coffee americano = new Coffee("Americano", "Grande", false, null);
        System.out.println("주문 1: " + americano);
    }
}
```
이 예시에서 발생하는 문제점을 파악해보자.

- **매개변수의 의미 파악 어려움 :** `Coffee americano = new Coffee("Americano", "Grande", false, null);` 이 코드에서 `false`와 `null`이 무엇을 의미하는지 알기 위해선 클래스의 코드를 직접 봐야한다.

- **순서 강제 :** 매개변수 순서가 정해져 있어, 원하지 않는 선택적 매개변수(예: `휘핑크림`)가 있어도 그 자리에 `false`나 `null` 같은 값을 반드시 채워 넣어야 한다.

- **유연성 부족:** 내가 원하는 특정 선택적 매개변수만 골라서 설정하기 어렵다.








