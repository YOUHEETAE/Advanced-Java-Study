# μμ΅΄ κ°μ²΄ μ£Όμ… ν¨ν„΄

ν΄λμ¤κ°€ μ—¬λ¬ κ°μ²΄μ„ ν•„μ”λ΅ ν•κ³ , κ·Έλ•λ§λ‹¤ μ‚¬μ©μκ°€ μ›ν•λ” κ°μ²΄μ„ μ μ—°ν•κ² μ κ³µν•΄μ•Ό ν• λ• **μ •μ  μ ν‹Έλ¦¬ν‹° ν΄λμ¤λ‚ μ‹±κΈ€ν„΄ ν¨ν„΄μ€ μ ν•©ν•μ§€ μ•λ‹¤**.

κ·Έλ ‡λ‹¤κ³  ν΄λμ¤ λ‚΄λ¶€μ—μ„ `new` ν‚¤μ›λ“λ¥Ό ν†µν•΄ μ§μ ‘ κ°μ²΄λ¥Ό μƒμ„±ν•λ©΄, νΉμ • κµ¬ν„μ²΄μ— κ°•ν•κ² μμ΅΄ν•λ” **'λ†’μ€ κ²°ν•©λ„'** λ¬Έμ κ°€ λ°μƒν•λ‹¤. μ΄λ” μ½”λ“μ μ μ—°μ„±κ³Ό ν…μ¤νΈ μ©μ΄μ„±μ„ ν¬κ² λ–¨μ–΄λ¨λ¦°λ‹¤. μ΄λ¬ν• λ¬Έμ λ¥Ό ν•΄κ²°ν•΄μ£Όλ” μ„¤κ³„ ν¨ν„΄μ΄ λ°”λ΅ **μμ΅΄μ„± μ£Όμ…(DI)**μ΄λ‹¤. μ΄μ λ¶€ν„° μ΄ ν¨ν„΄μ— λ€ν•΄ μ•μ•„λ³΄μ.

##  π“ μμ΅΄μ„± μ£Όμ…μ΄λ€?
μμ΅΄μ„± μ£Όμ…μ΄λ€ κ°μ²΄ μ¤μ¤λ΅κ°€ μμ΅΄ν•λ” λ‹¤λ¥Έ κ°μ²΄λ¥Ό μ§μ ‘ μƒμ„±ν•λ” λ€μ‹ , μ™Έλ¶€μ—μ„ μμ΅΄ κ°μ²΄λ¥Ό μ£Όμ…λ°›λ” μ„¤κ³„ ν¨ν„΄μ΄λ‹¤. μ΄λ” **μ μ–΄μ μ—­μ „(IoC)**μ΄λΌλ” λ” ν° κ°λ…μ ν• μΆ…λ¥λ΅, κ°μ²΄ μƒμ„±μ μ μ–΄κ¶μ„ μ™Έλ¶€λ΅ λ„κΈ°λ” κ²ƒμ„ μλ―Έν•λ‹¤.

ν• ν΄λμ¤κ°€ λ‹¤λ¥Έ ν΄λμ¤μ κΈ°λ¥μ„ μ‚¬μ©ν•΄μ•Ό ν•  λ•, new ν‚¤μ›λ“λ΅ μ§μ ‘ κ°μ²΄λ¥Ό λ§λ“λ” κ²ƒμ΄ μ•„λ‹λΌ μ΄λ―Έ λ§λ“¤μ–΄μ Έ μλ” κ°μ²΄λ¥Ό κ°€μ Έλ‹¤ μ“°λ” λ°©μ‹μ΄λ‹¤.

## π¤” μ–Έμ  μ‚¬μ©ν•λ”κ°€?

### μ μ ν• κ²½μ°

- μ™Έλ¶€ API νΈμ¶ν•λ” μ„λΉ„μ¤

- λ°μ΄ν„°λ² μ΄μ¤ μ•΅μ„Έμ¤ κ³„μΈµ

- λΉ„μ¦λ‹μ¤ λ΅μ§ μ„λΉ„μ¤

- μ„¤μ •μ΄ μμ£Ό λ°”λ€λ” μ»΄ν¬λ„νΈ

### ν”Όν•΄μ•Ό ν•  κ²½μ°

- κ°„λ‹¨ν• μ ν‹Έλ¦¬ν‹° ν΄λμ¤

- κ°’ κ°μ²΄ (Value Object)

- μƒνƒκ°€ μ—†λ” μ •μ  λ©”μ„λ“λ§ μλ” ν΄λμ¤


## π’» κµ¬ν„ λ°©λ²•

### Before DI 
```java
public class UserService {
    private UserRepository userRepository;
    
    public UserService() {
        // κ°•ν• κ²°ν•©, μ§μ ‘ μƒμ„±
        this.userRepository = new MySQLUserRepository();
    }
    
    public User findUser(Long id) {
        return userRepository.findById(id);
    }
}
```

### After DI
```java
public class UserService {
    private final UserRepository userRepository;
    
    // μƒμ„±μ μ£Όμ…
    public UserService(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
    
    public User findUser(Long id) {
        return userRepository.findById(id);
    }
}
```

## π”§ DI κµ¬ν„ λ°©μ‹

### 1. μƒμ„±μ μ£Όμ… (Constructor Injection)

κ°€μ¥ κ¶μ¥λλ” λ°©μ‹μΌλ΅, κ°μ²΄ μƒμ„± μ‹μ μ— μμ΅΄μ„±μ„ μ£Όμ…ν•λ‹¤.

```JAVA
public class UserService {
    private final UserRepository userRepository;
    private final EmailService emailService;
    
    public UserService(UserRepository userRepository, EmailService emailService) {
        this.userRepository = userRepository;
        this.emailService = emailService;
    }
}
```

**μ¥μ :**

- λ¶λ³€μ„± λ³΄μ¥ (final ν‚¤μ›λ“ μ‚¬μ© κ°€λ¥)
  
- ν•„μ μμ΅΄μ„±μ„ λ…ν™•ν ν‘ν„
  
- ν…μ¤νΈν•κΈ° μ‰¬μ›€

### 2. μ„Έν„° μ£Όμ… (Setter Injection)
   
setter λ©”μ„λ“λ¥Ό ν†µν•΄ μμ΅΄μ„±μ„ μ£Όμ…ν•λ‹¤.

```JAVA
public class UserService {
    private UserRepository userRepository;
    
    public void setUserRepository(UserRepository userRepository) {
        this.userRepository = userRepository;
    }
}
```

**μ¥μ :**

- μ„ νƒμ  μμ΅΄μ„±μ— μ ν•©
  
- λ°νƒ€μ„μ— μμ΅΄μ„± λ³€κ²½ κ°€λ¥

**λ‹¨μ :**

- κ°μ²΄κ°€ λ¶μ™„μ „ν• μƒνƒλ΅ μ΅΄μ¬ν•  μ μμ

### 3. ν•„λ“ μ£Όμ… (Field Injection)
   
μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•΄ ν•„λ“μ— μ§μ ‘ μ£Όμ…ν•λ‹¤.

```JAVA
public class UserService {
    @Autowired
    private UserRepository userRepository;
}
```

**λ‹¨μ :**

- ν…μ¤νΈν•κΈ° μ–΄λ ¤μ›€
  
- λ¶λ³€μ„± λ³΄μ¥ λ¶κ°€
  
- μ¨κ²¨μ§„ μμ΅΄μ„±μΌλ΅ μΈν• λ³µμ΅λ„ μ¦κ°€
  
## β… μμ΅΄μ„± μ£Όμ…μ μ¥μ 

- **1. λ‚®μ€ κ²°ν•©λ„**
  - κµ¬μ²΄μ μΈ ν΄λμ¤κ°€ μ•„λ‹ μΈν„°νμ΄μ¤μ— μμ΅΄ν•κΈ° λ•λ¬Έμ—, μ–΄λ– ν• κ°μ²΄λ¥Ό μ£Όμ…ν•λ“  μ μ—°ν•κ² λ€μ² κ°€λ¥ν•λ‹¤.

- **2. μ‰¬μ΄ ν…μ¤νΈ**
  - DIλ¥Ό μ‚¬μ©ν•λ©΄ ν…μ¤νΈ μ‹μ— μ‹¤μ  κ°μ²΄ λ€μ‹  **κ°€μ§ κ°μ²΄**λ¥Ό μ£Όμ…ν•  μ μλ‹¤. λ•λ¶„μ— μμ΅΄μ„±μ΄ μλ” μ™Έλ¶€ ν™κ²½μ— κµ¬μ• λ°›μ§€ μ•κ³  ν•΄λ‹Ή ν΄λμ¤μ κΈ°λ¥λ§ λ…λ¦½μ μΌλ΅ ν…μ¤νΈν•κΈ° μ‰¬μ›μ§„λ‹¤.

- **3. λ†’μ€ μ¬μ‚¬μ©μ„±**
  - κ°μ²΄λ¥Ό μ¬μ‚¬μ©ν•κΈ°κ°€ μ©μ΄ν•΄μ§€κ³ , λ³€κ²½μ΄ ν•„μ”ν•  λ• ν•΄λ‹Ή κ°μ²΄λ§ κµμ²΄ν•λ©΄ λλ―€λ΅ μ μ§€λ³΄μ λΉ„μ©μ„ μ¤„μΌ μ μλ‹¤.

## β λ‹¨μ 

- **1. λ³µμ΅μ„± μ¦κ°€**
  - μ΄κΈ° μ„¤μ •κ³Ό ν•™μµ λΉ„μ©μ΄ μ”κµ¬λλ‹¤.

- **2. λ°νƒ€μ„ μ¤λ¥** 
  - μ»΄νμΌ νƒ€μ„μ— μμ΅΄μ„± μ¤λ¥ λ°κ²¬μ΄ μ–΄λ µλ‹¤.

- **3. λ””λ²„κΉ… μ–΄λ ¤μ›€**
  - κ°μ²΄ μƒμ„± κ³Όμ •μ΄ μ¨κ²¨μ§€κΈ° λ•λ¬Έμ— λ””λ²„κΉ…μ— μ–΄λ ¤μ›€μ΄ μμ„ μ μλ‹¤.

## λ§λ¬΄λ¦¬ν•λ©°

μμ΅΄μ„± μ£Όμ… λ°©μ‹μ€ ν„μ¬ μ†ν”„νΈμ›¨μ–΄ κ°λ°μ—μ„ λ§¤μ° μ¤‘μ”ν• κ°μ²΄ μƒμ„± λ° κ΄€λ¦¬ λ°©μ‹μ΄λ‹¤. νΉν μ¤ν”„λ§κ³Ό κ°™μ€ μ£Όμ” ν”„λ μ„μ›ν¬μ—μ„ ν•µμ‹¬ κ°λ…μΌλ΅ μ‚¬μ©λλ©΄μ„, ν„λ€ κ°λ°μ—μ„ ν•„μμ μΈ ν¨ν„΄μΌλ΅ μλ¦¬ μ΅μ•λ‹¤.

μμ΅΄μ„± μ£Όμ… λ°©μ‹μ— λ€ν• μ΄ν•΄λ¥Ό λ°”νƒ•μΌλ΅ λ” μ μ—°ν•κ³  ν™•μ¥ κ°€λ¥ν• μ½”λ“λ¥Ό μ‘μ„±ν•μ—¬ μƒμ‚°μ„±μ„ λ†’μ—¬λ³΄μ.



